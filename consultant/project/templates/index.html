<!doctype html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport">
      <title>Терем-ОК</title>
      {% comment %} <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> {% endcomment %}
      {% comment %} <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/4.2.0/mdb.min.css" rel="stylesheet"/> {% endcomment %}
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">
   </head>
   <body style="background:#f6f7f8; font-family:'Roboto'">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
      <style>
         .nav-link{
            color:#C0C0C0;
            font-size: 120%;
         }
         .nav-link:hover {
            color:#FFFFFF;
         }
      </style>
      <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark">
         <div class="container-fluid">
            <a class="navbar-brand" href="#main_page">
            {% load static %}
            <img src="{% static 'img/Frame1.png' %}" width="150"  alt="Пока не работает">
            </a>
            <div class="collapse navbar-collapse d-flex justify-content-center" id="navbarSupportedContent">
               <ul class="navbar-nav">
                  <li class="nav-item">
                     <a class="nav-link" aria-current="page" href="#documents_page">Необходимая информация</a>
                  </li>
                  <li class="nav-item">
                     <a class="nav-link" href="#test_page">Анализ рисков</a>
                  </li>
               </ul>
            </div>
         </div>
      </nav>
      <!-- Список-описание на главной странице -->
      <style>
         .triangles {
         list-style-type: "⊲ ";
         }
         .main-button {
            border-radius: 40px;
            border: none;
            height:60px;
            background-color:#F0F0F0;
            color:#464140;
            font-size: 28px;
            padding: 10px;
         }
         .main-button:hover {
            background-color:#209404;
            color:#FFFFFF;
         }
      </style>
      <div class="content">
         <div class="bg-image position-relative" id="main_page">
            <img src="{% static 'img\cover.jpg' %}" width="100%" >
            <div class="mask position-absolute top-0 end-0 bottom-0 start-0 " style="background-color: rgba(0, 0, 0, 0.55)">
               <div class="container d-flex h-100">
                  <div class="row">
                     <div class="d-flex col-lg-6 justify-content-center" style="flex-direction: column;">
                        
                        <img src="{% static 'img/лого.svg' %}" alt="Пока не работает">
                        <br>
                        <a href="#test_page" class="d-flex justify-content-center" style="text-decoration: none;">
                           <button class="main-button">Анализировать риски</button>
                        </a>
                        
                     </div>
                     <div class="col-lg-1"></div>
                     <div class="col-lg-5 d-flex align-items-center">
                        <ul class='triangles'>
                           <li  class="h2 text-white">Анализ рисков при покупке индивидуального жилого дома</li>
                           <br>
                           <li  class="h2 text-white">Подборка сервисов для проверки всех нюансов сделки</li>
                           <br>
                           <li  class="h2 text-white">Индивидуальная оценка рисков при заключении договора</li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <style>
            .download {
            border-radius: 20px;
            padding: 8px;
            height:60px;
            background-color:#84b45c;
            color:#464140;
            font-size: 24px;
            }
            .download:hover {
            background-color:#F0F0F0;
            color:#464140;
            text-decoration: none;
            }
         </style>
         <h1 class="text-center" id="documents_page" style="padding-top: 80px; margin-top: -10px; margin-bottom: 80px; width: 80%; margin:0 auto;"><strong>Перед расчётом рисков, вам нужно собрать необходимую информацию:</strong>
         </h1>
         <br>
         <div class="cont-ref d-flex justify-content-center" width="100%" style="position: relative;/*! z-index: 1; */">
            <div class="bg-image position-relative" style="position: absolute !important;z-index: -1;height: 100%;/*! display: inline-block; *//*! padding: 0; *//*! position: fixed !important; */width: 100%;height: 100%;/*! min-width: 100%; *//*! overflow: hidden; *//*! margin: auto; */">
               <img src="/static/img/background_docs.jpg" style="height: 100%;/*! min-width: 100%; *//*! position: absolute; *//*! min-height: 100%; *//*! width: 100%; */" width="100%">
               <div class="mask position-absolute top-0 end-0 bottom-0 start-0 " style="background-color: rgba(0, 0, 0, 0.5)">
                  <br>
               </div>
            </div>
            <div class="cont-ref d-flex justify-content-center" width="100%">
               <div class="container" style="padding-top:20px; height:100%;">
                  {% for doc in docs %}
                     <div style="border-radius: 30px; width:90%; background-color:#FFFFFF;font-size:12px;text-align: center;">
                        <span style="font-size: 160%; padding-left:10px;padding-right:10px">{{ doc.content |safe }}</span>
                     </div>
                     <br>
                  {% endfor %}
               </div>
               <div class="d-flex justify-content-center align-items-start" style="padding-top:60px">
                  <p>
                     <a href="{% static 'doc_list.pdf' %}" target="blank" rel="noopener noreferrer"><img src="{% static 'img/documents.png' %}" style="margin-left:13%"width="40%" alt="Пока не работает"></a>
                     <br>
                     <a href="{% static 'doc_list.pdf' %}" target="blank" rel="noopener noreferrer" class="download" style="margin-left:0%" download>Скачать документы</a>
                  </p>
               </div>
            </div>
         </div>

         <!-- Стиль кнопок в тесте -->
         <style>
            .answer {
            border-radius: 40px;
            border: none;
            height:60px;
            background-color:#464140;
            color:#FFFFFF;
            font-size: 22px;
            }
            .answer:hover {
            background-color:#808080;
            }
            .answer:active {
            background-color:#008000;
            }
         </style>

         <script>
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
            const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
            $(document).ready (function (){
               $('[data-toggle="tooltip"]').tooltip ();
            });
         </script>

         <style>
         [data-tooltip] {
            position: relative;
         }
         [data-tooltip].tooltipshow {
            position: relative;
         }
         [data-tooltip].tooltipshow::after{
            left: 0; top: 0;
            pointer-events: none;
            opacity:1 !important;
            visibility: visible !important;
            top: 2em;
            pointer-events: auto;
         }
         [data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            width: 300px;
            left: 0; top: 0;
            background: #f0f0f0;
            color: #202020;
            border-radius: 10px;
            padding: 0.5em;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
            pointer-events: none;
            opacity: 0;
            transition: 0.5s;
            visibility:0;
         } 
         [data-tooltip]:hover::after {
            opacity: 1;
            top: 2em;
         }
         </style>
         
         <script>
            

            var myFunction = function(obj) {
               if (obj.classList.contains('tooltipshow')) {
                  obj.classList.remove('tooltipshow');
               } else {
                  obj.classList.add('tooltipshow');
               } 
            };
         </script>
         

         
         <script id="withIframe" type="text/template">
            <div id="d-q-ans-container-last" style="border-radius: 60px; padding-top: 50px; width: 800px; height: 300px; margin:0 auto; background-color:#FFFFFF;text-align: center;display: none">
               <div style="position: relative; top: 50%; transform: translateY(-60%);">
                  <h1 style="margin-bottom: 80px;" >Вы прошли опрос </h1>
                  <span style="font-size: 200%; padding-left:20px;padding-right:20px">Нажмите "Посмотреть риски", чтобы перейти к рискам</span>
                  </div>
               </div>
            <!-- Кнопки теста для вопросов физиков -->

            {% for employee in page_obj_phys %}
            <div id="d-q-ans-container_{{forloop.counter}}" class="num" style="position: relative;border-radius: 60px; padding-top: 35px; width: 90%; height: 450px; margin:0 auto; background-color:#FFFFFF;text-align: center;">

               <div style="position: relative; top: 50%; transform: translateY(-80%);">
               <span style="font-size: 200%; padding-left:10px;padding-right:10px" class="qtext_{{forloop.counter}}" >{{ employee.content }}</span>
                  </div>

               <div style="position: absolute; top: 20px; left: 37%">
            <h1 class="qtext_{{forloop.counter}}" id="mydiv" style="margin-bottom: 30px; color: #008000;" ><strong>Вопрос № {{forloop.counter}}</strong></h1>
                  </div>

               <div style="position: absolute; top: 20px; left: 90%">
                  <p class="mytooltip" onclick="" data-tooltip="{{ employee.info |safe }}"><a href="{{ employee.href }}"  target="blank" rel="noopener noreferrer"><img align="right" style="margin-right:10px;" src="{% static 'img\question.png' %}"></a></p>
               </div>

               <div style="position: absolute; bottom: 0; left: 25%">
            <div style="position: relative; top: 50%; transform: translateY(0%);">
               <br><br>
               <div class="rb-chk-container otp-row_{{forloop.counter}}" style="text-align: center;">
                  <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}" style="margin-right: 45px;">
                  <a id="t_ans_35636_{{forloop.counter}}">
                  <button class="answer" type="button" value=1 style="width:115px">Да</button>
                  </a>
                  </label>
                  <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}" style="margin-right: 45px;">
                  <a id="t_ans_35637_{{forloop.counter}}">
                  <button class="answer" type="button" value=1 style="width:115px">Нет</button>
                  </a>
                  </label>
                  <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}" style="margin-right: 45px;">
                  <a id="t_ans_35638_{{forloop.counter}}">
                  <button class="answer" type="button" value=1 style="width:115px">Пропуск</button>
                  </a>
                  </label>
               </div>
               <br>
               </div>
            </div>
            </div>
            {% endfor %}
         </script>

         <!-- Заполнение sessionStorage -->
         <script>
            let arr = [];
            {% for question in page_obj_phys %}
               arr.push({{question.correct_answer}});
            {% endfor %}
            sessionStorage.setItem("phys", arr);

            let arr1 = [];
            {% for question in page_obj_legal %}
               arr1.push({{question.correct_answer}});
            {% endfor %}
            sessionStorage.setItem("legal", arr1);

            let risk_level_phys_arr = [];
            {% for question in page_obj_phys %}
               risk_level_phys_arr.push({{question.risk_level}});
            {% endfor %}
            sessionStorage.setItem("risk_level_phys", risk_level_phys_arr);

            let risk_level_legal_arr = [];
            {% for question in page_obj_phys %}
               risk_level_legal_arr.push({{question.risk_level}});
            {% endfor %}
            sessionStorage.setItem("risk_level_legal", risk_level_legal_arr);

            console.log(sessionStorage)
         </script>


         <!-- Блок с тектом и номером вопроса теста для юриков -->
         <script id="withIframe_l" type="text/template">
               <div id="d-q-ans-container-last" style="border-radius: 60px; padding-top: 20px; width: 850px; height: 300px; margin:0 auto; background-color:#FFFFFF;text-align: center;display: none">
               <div style="position: relative; top: 50%; transform: translateY(-60%);">
                  <h1 style="margin-bottom: 80px;" >Вы прошли опрос </h1>
                  <span style="font-size: 200%; padding-left:20px;padding-right:20px">Нажмите "Посмотреть риски", чтобы перейти к рискам</span>
                  </div>
               </div>
            {% for employee in page_obj_legal %}
               <div id="d-q-ans-container_{{forloop.counter}}" class="num" style="position: relative;border-radius: 60px; padding-top: 35px; width: 950px; height: 450px; margin:0 auto; background-color:#FFFFFF;text-align: center;">

                     <div style="position: relative; top: 50%; transform: translateY(-80%);">
                     <span style="font-size: 200%; padding-left:10px;padding-right:10px" class="qtext_{{forloop.counter}}" >{{ employee.content }}</span>
                        </div>

                     <div style="position: absolute; top: 20px; left: 37%">
                  <h1 class="qtext_{{forloop.counter}}" id="mydiv" style="margin-bottom: 30px; color: #008000;" ><strong>Вопрос № {{forloop.counter}}</strong></h1>
                        </div>

                  <div style="position: absolute; top: 20px; left: 90%">
                     <p class="mytooltip" onclick="" data-tooltip="{{ employee.info |safe }}"><a href="{{ employee.href }}"  target="blank" rel="noopener noreferrer"><img align="right" style="margin-right:10px;" src="{% static 'img\question.png' %}"></a></p>
                  </div>

                     <div style="position: absolute; bottom: 0; left: 25%">
                  <div style="position: relative; top: 50%; transform: translateY(0%);">
                     <br><br>
                     <div class="rb-chk-container otp-row_{{forloop.counter}}" style="text-align: center;">
                        <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}" style="margin-right: 45px;">
                        <a id="t_ans_35636_{{forloop.counter}}">
                        <button class="answer" type="button" value=1 style="width:115px">Да</button>
                        </a>
                        </label>
                        <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}" style="margin-right: 45px;">
                        <a id="t_ans_35637_{{forloop.counter}}">
                        <button class="answer" type="button" value=1 style="width:115px">Нет</button>
                        </a>
                        </label>
                        <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}" style="margin-right: 45px;">
                        <a id="t_ans_35638_{{forloop.counter}}">
                        <button class="answer" type="button" value=1 style="width:115px">Пропуск</button>
                        </a>
                        </label>
                     </div>
                     <br>
                     </div>
                  </div>
                  </div>
               {% endfor %}
         </script>
         <div class="container">
            
            <h1 class="text-center" id="test_page" style="padding-top: 100px; margin-top: -80px; margin-bottom: 80px; width: 80%; margin:0 auto;"><strong>Для анализа рисков при покупке дома, ответьте на вопросы</strong></h1>
            <br>
            <!-- Блок с первым вопросом (юр/физ) -->
            <div class="qcontainer " id="qcont" width="100%">
               <div id="d-q-ans-container_0" class="num" style="border-radius: 60px; padding-top: 35px; width: 90%; margin:0 auto; background-color:#FFFFFF;text-align: center;">
                  <h2 style="font-size=100%; margin-bottom: 30px;" class="qtext_0" >Продавец является физическим или юридическим лицом?</h2>
                  <div>
                     <br><br>
                     <div class="rb-chk-container otp-row_0" style="text-align: center;">
                        <label class="otp-input s-view-input otp-radiobutton_0" style="margin-right: 80px;">
                        <a id="t_ans_35636_0">
                        <button class="answer" type="button" value=1 style="width:200px;">Физическим</button>
                        </a>
                        </label>
                        <label class="otp-input s-view-input otp-radiobutton_0" style="margin-right: 45px;">
                        <a id="t_ans_35637_0">
                        <button class="answer" type="button" value=1 style="width:200px;">Юридическим</button>
                        </a>
                        </label>
                     </div>
                     <br>
                  </div>
               </div>
            </div>
            <!-- Счетчик рисков -->
            <div id="risk-count" class = "risks" style="border-radius: 60px; padding-top: 8px; padding-bottom: 12px; width: 60%; margin:0 auto; background-color:#E3E0E0; border-top-left-radius: 0;border-top-right-radius: 0;text-align: center;">
               <span style="font-size: 180%; padding-left:10px;padding-right:10px;" id="risks" ><strong> </strong></span>
               {% load static %}
               <script src="{% static 'js_code/check.js' %}"></script>
               <!-- Логика счетчика рисков -->
               <script>
                  check();
               </script>
            </div>
            <!-- Какой-то непонятный стиль -->
            <br /><br class="height1" />
            <style>
               br.height1 {
               content: " ";
               display: block;
               }
            </style>
            <div style="text-align: center;">
               <!-- Ряд кнопок  -->
               <label>
                  <!-- Кнопка "Посмотреть риски" в тесте -->
                  <a href="#risk_page">
                     <button id="check_risk"  type="button" class="btn btn-lg btn-block btn-primary" style="border: 1.8px solid #00000 0;border-radius: 40px;border-color: #413E3E; padding-top: 7px; width: 170px; height: 75px; margin:0 auto; background-color:#f6f7f8;color:#378922;text-align: center;font-size: 21px;text-transform: unset !important;display: inline-block;">
                        <strong>Посмотреть риски</strong>
                     </button>
                  </a>
               </label>
               <label style="margin-left: 50px;display: none;" id="btn_back">
                  <!-- Кнопка "Пройти заново" в тесте -->
                  <button onclick="window.location.href='/#test_page';" id="btn_back_click" type="button" class="btn btn-lg btn-block btn-primary" style="border: 1.8px solid #000000;border-radius: 40px; padding-top: 7px; width: 170px; height: 75px; margin:0 auto; background-color:#f6f7f8;color:#378922;text-align: center;font-size: 21px;text-transform: unset !important;display: inline-block;">
                  <strong>Пройти заново</strong></button>
                  <script>
                     var btn = document.getElementById('btn_back_click');
                     btn.onclick = function(event) {
                        location.href = "/#test_page";
                        window.location.reload();
                        sessionStorage.clear();
                        var risk_legal_num = document.querySelectorAll(".risks_legal_text");
                        var risk_phys_num = document.querySelectorAll(".risks_phys_text");
                        for (let i = 0; i < risk_legal_num.length; i++) {
                                risk_legal_num[i].style.display = "none";
                          }

                          for (let i = 0; i < risk_phys_num.length; i++) {
                                risk_phys_num[i].style.display = "none";
                          }
                     };
                  </script>
               </label>
            </div>

            <br><br>

            <!-- Отображение цифр в кружках-->
            <div class="paginator" align="center" id="pag_id" style="width:70%;margin:0 auto;"></div>
            <!-- Отображение цифр в кружках на вопросах физиков-->
            <script id="withIframe-1" type="text/template">
               {% for employee in page_obj_phys %}
                  <button id="numbers_{{forloop.counter}}" class="button-button" style="border-radius: 40px; border: 2.5px solid #892222; height:50px; width:50px; color:#800000;margin-right: 25px; font-size: 25px;">
                     {{forloop.counter}}
                  </button>
               {% endfor %}
               <br><br>
            </script>
            <!-- Отображение цифр в кружках на вопросах юриков-->
            <script id="withIframe_l-1" type="text/template">
               {% for employee in page_obj_legal %}
                  <button id="numbers_{{forloop.counter}}" class="button-button" style="border-radius: 40px; border: 2.5px solid #892222; height:50px; width:50px; color:#800000;margin-right: 25px; font-size: 25px;">
                     {{forloop.counter}}
                  </button>
               {% endfor %}
               <br><br>
            </script>
            <!-- Обработчик клика на кнопки теста-->
            <script>
               function foo(id){
                  document.getElementById("check_risk").style.display = "inline-block";
                  var div = document.getElementById('d-q-ans-container_' + id);
                  var button_yes = document.getElementById('t_ans_35636_' + id);
                  var button_no = document.getElementById('t_ans_35637_' + id);
                  var button_skip = document.getElementById('t_ans_35638_' + id);
                  // sessionStorage.clear()
                  btn_click_mark(button_yes, id, 0);
                  btn_click_mark(button_no, id, 1);
                  btn_click(button_skip, id);
               }
            </script>
            <!--Загрузка скриптов-->
            {% load static %}
            <script src="{% static 'js_code/edit_storage.js' %}"> </script>
            <script src="{% static 'js_code/pagination.js' %}"> </script>
            <script src="{% static 'js_code/pagination_switch.js' %}"> </script>
            <script src="{% static 'js_code/pagination_init.js' %}"> </script>
            <script src="{% static 'js_code/button_click.js' %}"> </script>
            <script src="{% static 'js_code/update_user_type.js' %}"> </script>
            <script src="{% static 'js_code/check_correct_ans.js' %}"> </script>
            <script src="{% static 'js_code/display_risks.js' %}"> </script>

            <!-- Обработчик клика на кнопки вопроса юр/физ-->
            <script>
               var button_phys = document.getElementById('t_ans_35636_0');
               var button_legal = document.getElementById('t_ans_35637_0');

               button_phys.onclick = function(event){
                  document.getElementById("check_risk").style.display = "inline-block";
                  if (sessionStorage.getItem("user_type") !== "phys"){
                     var risk_legal_num = document.querySelectorAll(".risks_legal_text");
                     for (let i = 0; i < risk_legal_num.length; i++) {
                       risk_legal_num[i].style.display = "none";
                     }
                  }
                  else{
                     for (var element of JSON.parse(sessionStorage.getItem("risks"))) {
                        display_risk_message(parseInt(element),"phys");
                     }
                     update_risk_header();
                  }

                  update_user_type("phys");
                  sessionStorage.setItem("user_type", "phys");
                  document.getElementById('d-q-ans-container_0').style.display = 'none';
                  document.getElementById('btn_back').style = "margin-left: 50px;";
                  document.getElementById("qcont").innerHTML = document.getElementById("withIframe").innerHTML;
                  document.getElementById("pag_id").innerHTML = document.getElementById("withIframe-1").innerHTML;
                  pagination_init(21, 1); // инициализируем кнопки переключения вопросов
                  pagination_switch(21); // событие переключения вопроса

                  {% for employee in page_obj_phys %}
                        foo({{forloop.counter}});
                  {% endfor %}
                  check();
                  };

               button_legal.onclick = function(event) {
                  document.getElementById("check_risk").style.display = "inline-block";
                  if (sessionStorage.getItem("user_type") !== "legal"){
                     var risk_phys_num = document.querySelectorAll(".risks_phys_text");
                     for (let i = 0; i < risk_phys_num.length; i++) {
                       risk_phys_num[i].style.display = "none";
                     }
                  }
                  else{
                     for (var element of JSON.parse(sessionStorage.getItem("risks"))) {
                        display_risk_message(parseInt(element),"legal");
                     }
                     update_risk_header();
                  }
                  update_user_type("legal");
                  document.getElementById('d-q-ans-container_0').style.display = 'none';
                  document.getElementById('btn_back').style = "margin-left: 50px;";
                  document.getElementById("qcont").innerHTML = document.getElementById("withIframe_l").innerHTML;
                  document.getElementById("pag_id").innerHTML = document.getElementById("withIframe_l-1").innerHTML;
                  pagination_init(18, 1); // инициализируем кнопки переключения вопросов
                  pagination_switch(18); // событие переключения вопроса

                  {% for employee in page_obj_legal %}
                        foo({{forloop.counter}});
                  {% endfor %}
                  check();
               };
            </script>
         </div>

         <br>

         <!-- Инициализация заголовков страницы с рисками -->
         <div id = "risk_page">

            <h1 id="high_risk_message_header" class="text-center"  style="padding-top: 80px; margin-top: -10px; margin-bottom: 80px; width: 80%; margin:0 auto; display:none;">
               <strong>Уровень риска:</strong>
               <strong style="color:#800000">высокий</strong>
            </h1>

            <h1 id="low_risk_message_header" class="text-center"  style="padding-top: 80px; margin-top: -10px; margin-bottom: 80px; width: 80%; margin:0 auto; display:none;">
               <strong>Уровень риска:</strong>
               <strong style="color:#C88F22">средний</strong>

            </h1>

            <h1 id="no_risk_but_questions_left_message_header" class="text-center"  style="padding-top: 80px; margin-top: -10px; margin-bottom: 80px; width: 80%; margin:0 auto; display:none;">
               <strong style="color:#378922">Пока рисков нет</strong>
               <p style="color:#413E3E;font-size: 65%;">Пройдите тест, чтобы узнать результат</p>
               
            </h1>

            <h1 id="no_risk_test_finished_message_header" class="text-center"  style="padding-top: 80px; margin-top: -10px; margin-bottom: 80px; width: 80%; margin:0 auto; display:none;">
               <strong style="color:#378922">Рисков не найдено. Отличная сделка!</strong>
            </h1>

            <!-- Инициализация рисков для физиков -->
            
            <div style="height:fit-content">
               <div class="cont-ref d-flex justify-content-center" width="100%">
                  <div class="container" style="padding-top:20px">
                     {% for question in page_obj_phys %}
                        <div id="risk_message_phys_{{forloop.counter}}" style="border-radius: 30px; padding:10px; margin:20px;width:90%; background-color:#FFFFFF; border: 4.5px solid #892222;font-size:12px;text-align: center; display:none" class="risks_phys_text" >
                           <span style="font-size: 160%; padding-left:10px;padding-right:10px"><strong>Вопрос №{{question.id }} </strong> <br> {{ question.risk |safe }}</span>

                           <script>
                              // 1 == красный риск
                              // 0 == желтый риск

                              if( {{ question.risk_level }} == 0){
                                 document.getElementById("risk_message_phys_{{forloop.counter}}").style.border = (" 4.5px solid #C88F22")
                              }
                           </script>
                        </div>
                     {% endfor %}
                  </div>
               </div>
            </div>

            <script>
               window.onload = function() {
                  document.getElementById("check_risk").style.display = "none";
                 document.getElementById("high_risk_message_header").style.display = "none";
                  document.getElementById("low_risk_message_header").style.display = "none";
                  document.getElementById("no_risk_but_questions_left_message_header").style.display = "block";

                  var risk_legal_num = document.querySelectorAll(".risks_legal_text");
                     for (let i = 0; i < risk_legal_num.length; i++) {
                       risk_legal_num[i].style.display = "none";
                     }

                  var risk_phys_num = document.querySelectorAll(".risks_phys_text");
                     for (let i = 0; i < risk_phys_num.length; i++) {
                       risk_phys_num[i].style.display = "none";
                     }
               };
            </script>


            <!-- Инициализация рисков для юриков -->

            <div style="height:fit-content">
               <div class="cont-ref d-flex justify-content-center" width="100%">
                  <div class="container" style="padding-top:20px">
                     {% for question in page_obj_legal %}
                        <div id="risk_message_legal_{{forloop.counter}}" style="border-radius: 30px; padding:10px; margin:20px;width:90%; background-color:#FFFFFF; border: 4.5px solid #892222;font-size:12px;text-align: left; display:none" class="risks_legal_text">
                           <span style="font-size: 160%; padding-left:10px;padding-right:10px"><strong>Вопрос №{{question.id }} </strong> <br>{{ question.risk |safe }}</span>

                           <script>
                              // 1 == красный риск
                              // 0 == желтый риск

                              if( {{ question.risk_level }} == 0){
                                 document.getElementById("risk_message_legal_{{forloop.counter}}").style.border = (" 4.5px solid #C88F22")
                              }
                           </script>

                        </div>
                     {% endfor %}
                  </div>
               </div>
            </div>

         </div>

          <!-- Отображение заголовка-->
          <script>
            update_risk_header();
         </script>

          <!-- Отображение сообщений о рисках-->
          <script>
            var risk_list = JSON.parse(sessionStorage.getItem("risks"))
            var user_type = sessionStorage.getItem("user_type")
            for (var i = 0; i < risk_list.length; i++){
               display_risk_message(risk_list[i],user_type);
            };
         </script>
   </div>
      <style>
         .footer {
            padding: 10px;
            text-align: center;
            background: #343a40;
            color: #F0F0F0;
            width: 100%;
         }
      </style>

      <footer class="footer">
         <span>Данные, содержащиеся на сайте, являются справочными и носят информационный характер</span>
         <br>
         <span>Информация актуальна на 26.07.2023</span>
      </footer>
   </body>
</html>