<!--<!doctype html>-->
<!--<html lang="en">-->
<!--  <head>-->
<!--    {% load bootstrap5 %}-->
<!--  {% bootstrap_css %}-->
<!--  {% bootstrap_javascript %}-->
<!--        <meta charset="utf-8">-->
<!--        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">-->
<!--        <meta name="description" content="">-->
<!--        <meta name="author" content="">-->
<!--        <link rel="icon" href="/docs/4.0/assets/img/favicons/favicon.ico">-->

<!--        <title>Pricing example for Bootstrap</title>-->
<!--  </head>-->
<!--  <body style="background:#f6f7f8;min-height: 100%">-->
<!--    <div class="d-flex flex-column flex-md-row align-items-center p-3 px-md-4 mb-3 border-bottom box-shadow" style="background-color: rgb(209, 220, 150);">-->
<!--      <h5 class="my-0 mr-md-auto font-weight-normal">Терем-Ок</h5>-->
<!--      <nav class="my-2 my-md-0 mr-md-3">-->
<!--        <a class="p-2 text-dark" href="#">t.me/Terem-Ok</a>-->
<!--        <a class="p-2 text-dark" href="#">Terem-Ok@yandex.ru</a>-->
<!--      </nav>-->
<!--    </div>-->
<!--    <br>-->

<!--    <div>-->
<!--        <div class="hero-title">-->
<!--                <h1>-->
<!--                    <span class="hero-title-span">АНАЛИЗИРУЕМ РИСКИ</span><br>-->
<!--                    <span class="hero-title-span">ПРИ ПОКУПКЕ ИЖД</span>-->
<!--                </h1>-->
<!--        </div>-->
<!--        <div class="hero-caption">-->
<!--            <p>рассчитайте свои риски<br>-->
<!--            вместе с нами-->
<!--            </p>-->
<!--        </div>-->
<!--    </div>-->
<!--    <br>-->
<!--    <div id="d1" class="card mb-4 box-shadow" style="border-radius: 50px; height: 100px; width:600px; background-color:#f6f7f8;color:#800000;padding-left: 30px;padding-top: 25px;font-size: 20px;">-->
<!--          Посмотреть документы-->
<!--    </div>-->
<!--    <script>-->
<!--            var elem = document.getElementById("d1");-->

<!--            elem.onmouseover = function(e) {-->
<!--              elem.style.width = '700px';-->
<!--              const newButton = document.createElement("button");-->
<!--              newButton.textContent = 'Посмотреть документы';-->
<!--              newButton.id = "t4";-->
<!--              newButton.style = "border-radius: 40px; padding: 13px 30px; background-color:#f6f7f8;color:#800000;margin-right: 30px;height:50px;width:150px;position: absolute;right: 0%;"-->
<!--              elem.appendChild(newButton);-->
<!--              };-->

<!--            elem.onmouseleave = function(e) {-->
<!--              elem.style.width = '600px';-->
<!--              while(document.getElementById("t4") != null){-->
<!--                var button = document.getElementById("t4");-->
<!--                elem.removeChild(button);-->
<!--              }-->

<!--              };-->
<!--        </script>-->
<!--    <script type="text/javascript">-->
<!--            document.getElementById("t4").onclick = function () {-->
<!--                location.href = "/documents";-->
<!--            };-->
<!--        </script>-->

<!--    <div class="form-signin">-->
<!--        <h5 align="center" style="margin-bottom: 60px;">ТЕРЕМ-ОК - это сервис для анализа рисков при покупке индивидуального жилого дома</h5>-->
<!--        <h5 align="center" style="margin-bottom: 100px;">Рассчитайте свои риски и при покупке с нами</h5>-->
<!--    </div>-->

<!--    <div align="center">-->
<!--        <button id="t1" type="button" class="btn btn-lg btn-block btn-primary" style="border-radius: 40px; padding: 13px 60px; background-color:#f6f7f8;color:#800000;margin-right: 30px;">Посмотреть <br /> документы</button>-->
<!--        <script type="text/javascript">-->
<!--            document.getElementById("t1").onclick = function () {-->
<!--                location.href = "/documents";-->
<!--            };-->
<!--        </script>-->
<!--        <button onclick="window.location.href='/risks';" type="button" class="btn btn-lg btn-block btn-primary" style="border-radius: 40px; padding: 13px 60px; background-color:#f6f7f8;color:#800000;">Рассчитать <br /> риски</button>-->
<!--    </div>-->

<!--    <div class="container">-->
<!--      <h1 class="text-center">Опросник</h1>-->
<!--      <hr>-->

<!--      <ul class="list-group list-group-flush">-->
<!--        {% for employee in page_obj %}-->
<!--          <li class="list-group-item">{{ person }}</li>-->
<!--        {% endfor %}-->
<!--      </ul>-->

<!--      <br><hr>-->

<!--     {% include "pagination.html" %}-->
<!--    </div>-->
<!--  </body>-->
<!--</html>-->


<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pagination in Django</title>
  </head>
  <body>
  <h1>qqqqqqqqq</h1>
  <h1>qqqqqqqqq</h1>
  <h1>qqqqqqqqq</h1>
  <h1>qqqqqqqqq</h1>
  <h1>qqqqqqqqq</h1>
  <h1>qqqqqqqqq</h1>
  <h1>qqqqqqqqq</h1>
  <h1>qqqqqqqqq</h1>
  <h1>qqqqqqqqq</h1>

    <div class="container">
      <h1 class="text-center" id="test1">List of Employees</h1>
      <hr>

      <div class="qcontainer " id="qcont">
          {% for employee in page_obj %}
      <div id="d-q-ans-container_{{forloop.counter}}" class="">
              <span class="qtext_{{forloop.counter}}" ><strong>{{ employee.content }}</strong></span>
          <div>

      <div class="rb-chk-container otp-row_{{forloop.counter}}" maxcnt="0">
              <div class="item otp-row-1_{{forloop.counter}}">
                  <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}">
                          <input type="radio" id="t_ans_35636_{{forloop.counter}}" name="t_ansgr_12115_{{forloop.counter}}" value=1>
                      <i class="indicator icon-rb_{{forloop.counter}}"></i>

          <span>Да</span>

                  </label>
              </div>
              <div class="item otp-row-1_{{forloop.counter}}">
                  <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}">
                          <input type="radio" id="t_ans_35637_{{forloop.counter}}" name="t_ansgr_12115_{{forloop.counter}}" value=-1>
                      <i class="indicator icon-rb_{{forloop.counter}}"></i>

                <span>Нет</span>

                  </label>
              </div>
              <div class="item otp-row-1_{{forloop.counter}}">
                  <label class="otp-input s-view-input otp-radiobutton_{{forloop.counter}}">
                          <input type="radio" id="t_ans_35638_{{forloop.counter}}" name="t_ansgr_12115_{{forloop.counter}}" value=0>
                      <i class="indicator icon-rb_{{forloop.counter}}"></i>

          <span>Затрудняюсь ответить</span>

                  </label>
              </div>
      </div>

        <script>
            function save_data_to_localstorage(input_id, id) {
               const input_val = document.getElementById(input_id).getAttribute("data-last-value");
               const index = {{ page_obj.start_index }} + id - 1;
               sessionStorage.setItem(index, input_val);
                console.log(sessionStorage);
            }

            if({{ employee.state }} == 0){
                console.log(sessionStorage[{{ employee.parent_id }}]);
                if(sessionStorage[{{ employee.parent_id }}] == -2 || sessionStorage[{{ employee.parent_id }}] === undefined){
                    document.getElementById('d-q-ans-container_{{forloop.counter}}').setAttribute("style", "display:none");
                }
            }

            if ({{ employee.id }} in sessionStorage){
<!--                console.log({{employee.id }})-->
<!--                console.log(sessionStorage[{{ employee.id }}])-->
<!--                console.log(sessionStorage);-->
<!--                console.log(" ")-->
                if (sessionStorage[{{ employee.id }}] == -1){
                    document.getElementById("t_ans_35637_{{forloop.counter}}").click();
                }
                if (sessionStorage[{{ employee.id }}] == 0){
                    document.getElementById("t_ans_35638_{{forloop.counter}}").click();
                }
                if (sessionStorage[{{ employee.id }}] == 1){
                    document.getElementById("t_ans_35636_{{forloop.counter}}").click();
                }
            }

            var div = document.getElementById('d-q-ans-container_{{forloop.counter}}');
            div.setAttribute("sub_id", {{employee.sub_id}});
            var p1 = document.getElementById('t_ans_35636_{{forloop.counter}}');
            var p2 = document.getElementById('t_ans_35637_{{forloop.counter}}');
            var p3 = document.getElementById('t_ans_35638_{{forloop.counter}}');



            p1.onclick = function(e) {
                document.getElementById('d-q-ans-container_{{forloop.counter}}').setAttribute('data-last-value', p1.value);
                save_data_to_localstorage('d-q-ans-container_{{forloop.counter}}', {{forloop.counter}});
                if(document.getElementById('d-q-ans-container_{{forloop.counter}}').getAttribute("sub_id") != 0){
                    let idd = document.getElementById('d-q-ans-container_{{forloop.counter}}').getAttribute("sub_id");
                    if(document.getElementById('d-q-ans-container_' + idd) != null){
                        document.getElementById('d-q-ans-container_' + idd).removeAttribute("style");
                    }
                }
              };

            p2.onclick = function(e) {
                document.getElementById('d-q-ans-container_{{forloop.counter}}').setAttribute('data-last-value', p2.value);
                save_data_to_localstorage('d-q-ans-container_{{forloop.counter}}', {{forloop.counter}});
                if(document.getElementById('d-q-ans-container_{{forloop.counter}}').getAttribute("sub_id") != 0){
                    let idd = document.getElementById('d-q-ans-container_{{forloop.counter}}').getAttribute("sub_id");
                    console.log('d-q-ans-container_' + idd);
                    if(document.getElementById('d-q-ans-container_' + idd) != null){
                        document.getElementById('d-q-ans-container_' + idd).removeAttribute("style");
                    }
                }
              };

            p3.onclick = function(e) {
              document.getElementById('d-q-ans-container_{{forloop.counter}}').setAttribute('data-last-value', p3.value);
              save_data_to_localstorage('d-q-ans-container_{{forloop.counter}}', {{forloop.counter}});
              if(document.getElementById('d-q-ans-container_{{forloop.counter}}').getAttribute("sub_id") != 0){
                    let idd = document.getElementById('d-q-ans-container_{{forloop.counter}}').getAttribute("sub_id");
                    if(document.getElementById('d-q-ans-container_' + idd) != null){
                        document.getElementById('d-q-ans-container_' + idd).removeAttribute("style");
                    }
                }
            };
        </script>

      <br>
        <hr>

    </div>
      </div>
          {% endfor %}
          {% include "pagination.html" %}
          </div>
        <script>
            sessionStorage.clear();
        </script>
        </div>
  </body>
</html>